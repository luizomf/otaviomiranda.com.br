---
/**
 * ARQUIVO: Testimonials.astro
 *
 * O QUE FAZ:
 *   Renderiza a secao completa de depoimentos da pagina inicial. Exibe
 *   um cabecalho (SectionHeader) e um grid responsivo com todos os
 *   depoimentos de alunos, sobre fundo escuro com parallax.
 *
 * USADO EM:
 *   - src/pages/index.astro (pagina principal do site)
 *
 * CONCEITO ASTRO:
 *   - Dados externos: importa o array TESTIMONIALS de
 *     src/config/testimonials.ts, mantendo os dados separados da UI.
 *   - Spread de props: usa a sintaxe {...testimonial} no .map() para
 *     passar todas as propriedades do objeto como props de uma vez
 *     para o componente Testimonial — equivalente a escrever cada
 *     prop manualmente (slug={testimonial.slug} author={...} etc).
 *   - Composicao de componentes: Section controla o tema (theme='dark')
 *     e a classe de fundo (bg-parallax), enquanto cada Testimonial
 *     cuida da sua propria apresentacao.
 */
import Section from './Section.astro';
import SectionHeader from './SectionHeader.astro';
import Testimonial from './Testimonial.astro';
import { TESTIMONIALS } from '../config/testimonials';
---

<Section
  id='section-testimonials'
  theme='dark'
  class='bg-parallax'
  contentClass='section-testimonials'
>
  <SectionHeader
    eyeball='O que os alunos dizem'
    title='Histórias de sucesso'
    description='Veja o que desenvolvedores que já estudaram comigo têm a dizer sobre a didática e os resultados.'
  />

  <div class='testimonials-grid'>
    {TESTIMONIALS.map(testimonial => <Testimonial {...testimonial} />)}
  </div>
</Section>

<style>
  /*
   * Testimonials
   */
  .testimonials-grid {
    max-width: 180rem;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(min(100%, 380px), 1fr));
    grid-auto-flow: row dense;
    gap: clamp(var(--spacings-sm-900), 4vw, var(--spacings-lg-400));

    padding-bottom: clamp(var(--spacings-lg-100), 8vw, var(--spacings-lg-600));
    margin-bottom: clamp(var(--spacings-lg-100), 8vw, var(--spacings-lg-600));
  }

  @media (max-width: 1024px) {
    .testimonials-grid {
      column-count: 2;
    }
  }

  @media (max-width: 600px) {
    .testimonials-grid {
      column-count: 1;
    }
  }
</style>
